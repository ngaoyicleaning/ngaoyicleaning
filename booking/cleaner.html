<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cleaner Selection - Ngaoyi Cleaning</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #003b6f;
            --primary-light: #0056a3;
            --accent: #00c6ff;
            --text: #6c6c6c;
            --light: #f8f9fa;
            --dark: #00264d;
            --gray: #6c6c6c;
            --light-gray: #e9ecef;
            --success: #28a745;
            --shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: white;
            color: var(--text);
            line-height: 1.6;
        }
        
        .booking-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
        }
        
        /* Header */
        .booking-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            padding: 20px 0;
            border-bottom: 1px solid var(--light-gray);
        }
        
        .back-home {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
            padding: 10px 20px;
            border: 2px solid var(--primary);
            border-radius: 50px;
        }
        
        .back-home:hover {
            background-color: var(--primary);
            color: white;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            overflow: hidden;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .logo-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .logo h1 {
            font-size: 1.8rem;
            color: var(--primary);
            font-weight: 700;
        }
        
        /* Progress Steps */
        .booking-progress {
            display: flex;
            justify-content: space-between;
            margin-bottom: 50px;
            position: relative;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .booking-progress::before {
            content: '';
            position: absolute;
            top: 25px;
            left: 0;
            right: 0;
            height: 3px;
            background-color: var(--light-gray);
            z-index: 1;
        }
        
        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
            flex: 1;
        }
        
        .step-number {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: white;
            color: var(--gray);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 12px;
            border: 3px solid var(--light-gray);
            transition: var(--transition);
            position: relative;
        }
        
        .progress-step.completed .step-number {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .progress-step.active .step-number {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            border-color: var(--primary);
            transform: scale(1.1);
        }
        
        .progress-step span {
            font-size: 0.95rem;
            color: var(--gray);
            font-weight: 600;
            text-align: center;
        }
        
        .progress-step.active span {
            color: var(--primary);
            font-weight: 700;
        }
        
        /* Main Content */
        .booking-main {
            background: white;
            padding: 50px;
            border-radius: 15px;
            box-shadow: var(--shadow);
            border: 1px solid var(--light-gray);
            text-align: center;
        }
        
        .booking-main h2 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 2.2rem;
            font-weight: 700;
        }
        
        .step-description {
            color: var(--gray);
            margin-bottom: 40px;
            font-size: 1.1rem;
            line-height: 1.7;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        /* Auto Assign Section */
        .auto-assign-section {
            background: linear-gradient(135deg, rgba(0, 59, 111, 0.03), rgba(0, 198, 255, 0.03));
            padding: 50px;
            border-radius: 20px;
            border: 3px dashed var(--accent);
            margin: 40px 0;
            text-align: center;
            transition: var(--transition);
        }
        
        .auto-assign-section:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 59, 111, 0.1);
        }
        
        .auto-assign-icon {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            color: white;
            font-size: 3.5rem;
            box-shadow: 0 10px 30px rgba(0, 59, 111, 0.2);
        }
        
        .auto-assign-section h3 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .auto-assign-description {
            color: var(--gray);
            margin-bottom: 30px;
            font-size: 1.1rem;
            line-height: 1.7;
        }
        
        .benefits-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
            text-align: left;
        }
        
        .benefit-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 20px;
            background: white;
            border-radius: 12px;
            border: 1px solid var(--light-gray);
            transition: var(--transition);
        }
        
        .benefit-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0, 59, 111, 0.1);
        }
        
        .benefit-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--success), #20c997);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.3rem;
            flex-shrink: 0;
        }
        
        .benefit-content h4 {
            color: var(--primary);
            margin-bottom: 8px;
            font-size: 1.1rem;
            font-weight: 700;
        }
        
        .benefit-content p {
            color: var(--gray);
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        .selected-indicator {
            background: var(--success);
            color: white;
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(40, 167, 69, 0.4);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(40, 167, 69, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(40, 167, 69, 0);
            }
        }
        
        .form-actions {
            margin-top: 40px;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            padding: 18px 40px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 700;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(0, 59, 111, 0.3);
            font-size: 1.1rem;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 59, 111, 0.4);
        }
        
        .btn:disabled {
            background: var(--gray);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* Info Section */
        .info-section {
            background: var(--light);
            padding: 30px;
            border-radius: 15px;
            margin-top: 40px;
            border-left: 4px solid var(--primary);
        }
        
        .info-section h4 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 1.2rem;
            font-weight: 700;
        }
        
        .info-section p {
            color: var(--gray);
            line-height: 1.6;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .booking-container {
                padding: 15px;
            }
            
            .booking-main {
                padding: 30px 25px;
            }
            
            .booking-header {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .auto-assign-section {
                padding: 30px 25px;
            }
            
            .benefits-list {
                grid-template-columns: 1fr;
            }
            
            .auto-assign-icon {
                width: 100px;
                height: 100px;
                font-size: 2.8rem;
            }
            
            .booking-main h2 {
                font-size: 1.8rem;
            }
            
            .progress-step span {
                font-size: 0.85rem;
            }
            
            .step-number {
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }
        }
        
        @media (max-width: 480px) {
            .booking-progress {
                flex-direction: column;
                gap: 25px;
                align-items: flex-start;
            }
            
            .booking-progress::before {
                display: none;
            }
            
            .progress-step {
                flex-direction: row;
                gap: 20px;
                width: 100%;
            }
            
            .step-number {
                margin-bottom: 0;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .auto-assign-section {
                padding: 25px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="booking-container">
        <header class="booking-header">
            <a href="index.html" class="back-home">
                <i class="fas fa-arrow-left"></i> Back to Details
            </a>
            <div class="logo">
                <div class="logo-icon">
                    <img src="https://raw.githubusercontent.com/ngaoyicleaning/ngaoyicleaning/main/assets/logo.png" alt="Ngaoyi Cleaning">
                </div>
                <h1>Ngaoyi Cleaning</h1>
            </div>
        </header>

        <div class="booking-progress">
            <div class="progress-step completed">
                <div class="step-number"><i class="fas fa-check"></i></div>
                <span>Your Details</span>
            </div>
            <div class="progress-step active">
                <div class="step-number">2</div>
                <span>Cleaner Selection</span>
            </div>
            <div class="progress-step">
                <div class="step-number">3</div>
                <span>Add-ons</span>
            </div>
            <div class="progress-step">
                <div class="step-number">4</div>
                <span>Confirm & Pay</span>
            </div>
        </div>

        <main class="booking-main">
            <h2>Smart Cleaner Assignment</h2>
            <p class="step-description">
                We'll automatically assign the best available cleaner for your specific needs, 
                ensuring optimal service quality and convenience.
            </p>

            <div class="auto-assign-section">
                <div class="auto-assign-icon">
                    <i class="fas fa-robot"></i>
                </div>
                
                <h3>Auto-Assign Best Cleaner</h3>
                
                <p class="auto-assign-description">
                    Our smart system will match you with the perfect cleaner based on your location, 
                    service requirements, and availability. This ensures the highest quality service 
                    and fastest booking confirmation.
                </p>

                <div class="selected-indicator">
                    <i class="fas fa-check-circle"></i> Auto-Assign Selected
                </div>

                <div class="benefits-list">
                    <div class="benefit-item">
                        <div class="benefit-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div class="benefit-content">
                            <h4>Fastest Booking</h4>
                            <p>Immediate confirmation without manual selection delays</p>
                        </div>
                    </div>
                    
                    <div class="benefit-item">
                        <div class="benefit-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="benefit-content">
                            <h4>Optimal Location Matching</h4>
                            <p>We assign cleaners closest to your area for timely service</p>
                        </div>
                    </div>
                    
                    <div class="benefit-item">
                        <div class="benefit-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="benefit-content">
                            <h4>Quality Guaranteed</h4>
                            <p>Top-rated cleaners matched to your specific service needs</p>
                        </div>
                    </div>
                    
                    <div class="benefit-item">
                        <div class="benefit-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="benefit-content">
                            <h4>Reliable Service</h4>
                            <p>Automatic backup assignment if primary cleaner is unavailable</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="info-section">
                <h4><i class="fas fa-info-circle"></i> How It Works</h4>
                <p>
                    Our system automatically selects the best available cleaner based on your service type, 
                    location, and schedule. You'll receive your assigned cleaner's details in the confirmation 
                    email, including their name, photo, and rating. All our cleaners are vetted, trained, 
                    and insured for your peace of mind.
                </p>
            </div>

            <div class="form-actions">
                <button class="btn" onclick="proceedToAddons()">
                    Continue to Add-ons <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </main>
    </div>

    <script>
        // Auto-assign is the only option, so it's always selected
        const selectedCleaner = 'auto-assign';

        function proceedToAddons() {
            // Save cleaner selection (auto-assign)
            const clientInfo = JSON.parse(localStorage.getItem('ngaoyi_booking') || '{}');
            clientInfo.cleaner = selectedCleaner;
            clientInfo.cleanerSelection = 'auto-assign';
            localStorage.setItem('ngaoyi_booking', JSON.stringify(clientInfo));
            
            console.log('âœ… Auto-assign cleaner selected');
            
            // Redirect to add-ons page
            window.location.href = 'addons.html';
        }

        // Load client info to validate booking details
        window.addEventListener('load', function() {
            const clientInfo = JSON.parse(localStorage.getItem('ngaoyi_booking') || '{}');
            
            // Validate that booking details exist
            if (!clientInfo.name || !clientInfo.date || !clientInfo.timeSlot) {
                console.log('âŒ Incomplete booking details, redirecting...');
                window.location.href = 'index.html';
                return;
            }
            
            console.log('âœ… Cleaner selection page loaded with booking details');
            console.log('ðŸ“ Service Date:', clientInfo.date);
            console.log('ðŸ“ Time Slot:', clientInfo.timeSlot);
            console.log('ðŸ“ Service Type:', clientInfo.serviceType);
            
            // Auto-select the only option (auto-assign)
            const clientInfoUpdated = JSON.parse(localStorage.getItem('ngaoyi_booking') || '{}');
            clientInfoUpdated.cleaner = 'auto-assign';
            localStorage.setItem('ngaoyi_booking', JSON.stringify(clientInfoUpdated));
        });

        // Add smooth animations
        document.addEventListener('DOMContentLoaded', function() {
            // Add entrance animation to benefits
            const benefitItems = document.querySelectorAll('.benefit-item');
            benefitItems.forEach((item, index) => {
                item.style.animationDelay = `${index * 0.1}s`;
                item.classList.add('animate-in');
            });
        });
    </script>
</body>
</html>
