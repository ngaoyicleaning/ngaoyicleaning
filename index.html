<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ngaoyi Cleaning - Sales Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #2c7fb8;
            --primary-light: #5fa8d3;
            --secondary: #7fcdbb;
            --accent: #edf8b1;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --light: #f8f9fa;
            --dark: #253237;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: var(--dark);
            line-height: 1.6;
            padding: 20px;
        }

        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }

        .header h1 {
            color: var(--primary);
            font-size: 1.8rem;
        }

        .date-range {
            background: var(--light);
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            color: var(--primary);
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: var(--shadow);
            text-align: center;
            transition: var(--transition);
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card.total-sales {
            border-top: 4px solid var(--primary);
        }

        .stat-card.monthly-revenue {
            border-top: 4px solid var(--success);
        }

        .stat-card.average-sale {
            border-top: 4px solid var(--warning);
        }

        .stat-card.services {
            border-top: 4px solid var(--secondary);
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 1.3rem;
        }

        .stat-card.total-sales .stat-icon {
            background: rgba(44, 127, 184, 0.1);
            color: var(--primary);
        }

        .stat-card.monthly-revenue .stat-icon {
            background: rgba(40, 167, 69, 0.1);
            color: var(--success);
        }

        .stat-card.average-sale .stat-icon {
            background: rgba(255, 193, 7, 0.1);
            color: var(--warning);
        }

        .stat-card.services .stat-icon {
            background: rgba(127, 205, 187, 0.1);
            color: var(--secondary);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            margin: 10px 0;
        }

        .stat-label {
            color: var(--gray);
            font-size: 0.9rem;
        }

        /* Charts Section */
        .charts-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .chart-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .chart-header h3 {
            color: var(--primary);
            font-size: 1.2rem;
        }

        .chart-container {
            position: relative;
            height: 250px;
        }

        /* Sales Controls */
        .sales-controls {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
        }

        .search-box {
            flex: 1;
            min-width: 250px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 10px 15px 10px 40px;
            border: 1px solid var(--light-gray);
            border-radius: 6px;
            font-size: 1rem;
        }

        .search-box i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }

        .filter-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .filter-select {
            padding: 10px 15px;
            border: 1px solid var(--light-gray);
            border-radius: 6px;
            background: white;
            font-size: 0.9rem;
        }

        .view-toggle {
            display: flex;
            gap: 5px;
            background: var(--light);
            border-radius: 6px;
            padding: 5px;
        }

        .view-btn {
            padding: 8px 15px;
            border: none;
            background: transparent;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
        }

        .view-btn.active {
            background: var(--primary);
            color: white;
        }

        /* Sales Table */
        .sales-section {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }

        .sales-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .sales-header h3 {
            color: var(--primary);
            font-size: 1.2rem;
        }

        .sales-table-container {
            overflow-x: auto;
        }

        .sales-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 1000px;
        }

        .sales-table th,
        .sales-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--light-gray);
        }

        .sales-table th {
            background: var(--light);
            color: var(--gray);
            font-weight: 600;
            position: sticky;
            top: 0;
        }

        .sales-table tr:hover {
            background: var(--light);
        }

        .status-badge {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .status-completed {
            background: rgba(40, 167, 69, 0.1);
            color: var(--success);
        }

        .status-pending {
            background: rgba(255, 193, 7, 0.1);
            color: var(--warning);
        }

        .service-type {
            display: inline-block;
            padding: 4px 8px;
            background: var(--light);
            border-radius: 4px;
            font-size: 0.8rem;
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
        }

        .pagination-btn {
            padding: 8px 12px;
            border: 1px solid var(--light-gray);
            background: white;
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
        }

        .pagination-btn:hover {
            background: var(--light);
        }

        .pagination-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .pagination-info {
            color: var(--gray);
            font-size: 0.9rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .charts-grid {
                grid-template-columns: 1fr;
            }
            
            .header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .sales-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .filter-controls {
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <div class="header">
            <h1>Ngaoyi Cleaning Sales Dashboard</h1>
            <div class="date-range">
                <i class="fas fa-calendar-alt"></i> April 2025 - September 2025
            </div>
        </div>

        <!-- Stats Grid -->
        <div class="stats-grid">
            <div class="stat-card total-sales">
                <div class="stat-icon">
                    <i class="fas fa-shopping-cart"></i>
                </div>
                <div class="stat-value">42</div>
                <div class="stat-label">Total Sales</div>
            </div>
            <div class="stat-card monthly-revenue">
                <div class="stat-icon">
                    <i class="fas fa-money-bill-wave"></i>
                </div>
                <div class="stat-value">R 25,000</div>
                <div class="stat-label">Total Revenue</div>
            </div>
            <div class="stat-card average-sale">
                <div class="stat-icon">
                    <i class="fas fa-chart-bar"></i>
                </div>
                <div class="stat-value">R 595</div>
                <div class="stat-label">Average Sale</div>
            </div>
            <div class="stat-card services">
                <div class="stat-icon">
                    <i class="fas fa-broom"></i>
                </div>
                <div class="stat-value">6</div>
                <div class="stat-label">Service Types</div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="charts-grid">
            <div class="chart-card">
                <div class="chart-header">
                    <h3>Monthly Revenue Trend</h3>
                </div>
                <div class="chart-container">
                    <canvas id="revenueChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <div class="chart-header">
                    <h3>Service Distribution</h3>
                </div>
                <div class="chart-container">
                    <canvas id="serviceChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Sales Controls -->
        <div class="sales-controls">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="searchInput" placeholder="Search by customer, service, or ID...">
            </div>
            <div class="filter-controls">
                <select id="serviceFilter" class="filter-select">
                    <option value="">All Services</option>
                    <option value="1-Bed Cleaning">1-Bed Cleaning</option>
                    <option value="2-Bed Cleaning">2-Bed Cleaning</option>
                    <option value="3-Bed Cleaning">3-Bed Cleaning</option>
                    <option value="Deep Cleaning">Deep Cleaning</option>
                    <option value="Weekly Plan">Weekly Plan</option>
                    <option value="Monthly Plan">Monthly Plan</option>
                </select>
                <select id="statusFilter" class="filter-select">
                    <option value="">All Statuses</option>
                    <option value="completed">Completed</option>
                    <option value="pending">Pending</option>
                </select>
                <select id="monthFilter" class="filter-select">
                    <option value="">All Months</option>
                    <option value="Apr">April</option>
                    <option value="May">May</option>
                    <option value="Jun">June</option>
                    <option value="Jul">July</option>
                    <option value="Aug">August</option>
                    <option value="Sep">September</option>
                </select>
            </div>
            <div class="view-toggle">
                <button class="view-btn active" id="tableViewBtn">
                    <i class="fas fa-table"></i> Table
                </button>
                <button class="view-btn" id="cardViewBtn">
                    <i class="fas fa-th-large"></i> Cards
                </button>
            </div>
        </div>

        <!-- Sales Table -->
        <div class="sales-section">
            <div class="sales-header">
                <h3>All Sales (42 Orders)</h3>
                <div class="pagination-info" id="paginationInfo">Showing 1-10 of 42</div>
            </div>
            <div class="sales-table-container">
                <table class="sales-table" id="salesTable">
                    <thead>
                        <tr>
                            <th>Order ID</th>
                            <th>Customer</th>
                            <th>Service</th>
                            <th>Date</th>
                            <th>Amount</th>
                            <th>Status</th>
                            <th>Payment</th>
                        </tr>
                    </thead>
                    <tbody id="salesTableBody">
                        <!-- Sales data will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
            <div class="pagination" id="pagination">
                <!-- Pagination will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Generate all 42 sales data
        function generateAllSales() {
            const services = ['1-Bed Cleaning', '2-Bed Cleaning', '3-Bed Cleaning', 'Deep Cleaning', 'Weekly Plan', 'Monthly Plan'];
            const customers = [
                'Sarah M.', 'James K.', 'Priya N.', 'David T.', 'Lisa B.', 
                'Thomas R.', 'Mike J.', 'Anna L.', 'Robert W.', 'Maria S.',
                'John D.', 'Emily C.', 'Michael B.', 'Jessica L.', 'Daniel K.',
                'Sophia M.', 'William T.', 'Olivia P.', 'Ethan R.', 'Ava S.'
            ];
            const statuses = ['completed', 'pending'];
            const paymentMethods = ['Cash', 'EFT', 'Card', 'PayPal'];
            const months = ['Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep'];
            
            const allSales = [];
            
            for (let i = 1; i <= 42; i++) {
                const service = services[Math.floor(Math.random() * services.length)];
                let amount;
                
                switch(service) {
                    case '1-Bed Cleaning': amount = 300; break;
                    case '2-Bed Cleaning': amount = 380; break;
                    case '3-Bed Cleaning': amount = 470; break;
                    case 'Deep Cleaning': amount = Math.random() > 0.5 ? 1200 : 1750; break;
                    case 'Weekly Plan': amount = Math.random() > 0.5 ? 323 : 425; break;
                    case 'Monthly Plan': amount = Math.random() > 0.5 ? 361 : 475; break;
                }
                
                const month = months[Math.floor(Math.random() * months.length)];
                const day = Math.floor(Math.random() * 28) + 1;
                
                allSales.push({
                    id: `NC${String(i).padStart(3, '0')}`,
                    customer: customers[Math.floor(Math.random() * customers.length)],
                    service: service,
                    date: `${day} ${month}`,
                    fullDate: new Date(2025, months.indexOf(month), day),
                    amount: amount,
                    status: statuses[Math.floor(Math.random() * statuses.length)],
                    payment: paymentMethods[Math.floor(Math.random() * paymentMethods.length)]
                });
            }
            
            // Sort by date
            return allSales.sort((a, b) => b.fullDate - a.fullDate);
        }

        // Sales Data for April 2025 - September 2025 (42 sales, R25,000 total)
        const salesData = {
            months: ['Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep'],
            revenue: [3800, 4200, 4100, 4500, 4700, 3700],
            salesCount: [7, 8, 7, 8, 8, 4],
            services: {
                '1-Bed Cleaning': 8,
                '2-Bed Cleaning': 12,
                '3-Bed Cleaning': 10,
                'Deep Cleaning': 6,
                'Weekly Plan': 4,
                'Monthly Plan': 2
            },
            allSales: generateAllSales()
        };

        // Initialize Charts
        function initializeCharts() {
            // Revenue Chart
            const revenueCtx = document.getElementById('revenueChart').getContext('2d');
            new Chart(revenueCtx, {
                type: 'line',
                data: {
                    labels: salesData.months,
                    datasets: [{
                        label: 'Monthly Revenue (R)',
                        data: salesData.revenue,
                        borderColor: '#2c7fb8',
                        backgroundColor: 'rgba(44, 127, 184, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return 'R ' + value.toLocaleString();
                                }
                            }
                        }
                    }
                }
            });

            // Service Distribution Chart
            const serviceCtx = document.getElementById('serviceChart').getContext('2d');
            new Chart(serviceCtx, {
                type: 'doughnut',
                data: {
                    labels: Object.keys(salesData.services),
                    datasets: [{
                        data: Object.values(salesData.services),
                        backgroundColor: [
                            '#2c7fb8', '#5fa8d3', '#7fcdbb', '#edf8b1', '#ffc107', '#28a745'
                        ],
                        borderWidth: 2,
                        borderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right'
                        }
                    }
                }
            });
        }

        // Pagination and Filtering
        let currentPage = 1;
        const itemsPerPage = 10;
        let filteredSales = [...salesData.allSales];

        function filterSales() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const serviceFilter = document.getElementById('serviceFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;
            const monthFilter = document.getElementById('monthFilter').value;

            filteredSales = salesData.allSales.filter(sale => {
                const matchesSearch = 
                    sale.id.toLowerCase().includes(searchTerm) ||
                    sale.customer.toLowerCase().includes(searchTerm) ||
                    sale.service.toLowerCase().includes(searchTerm);
                
                const matchesService = !serviceFilter || sale.service === serviceFilter;
                const matchesStatus = !statusFilter || sale.status === statusFilter;
                const matchesMonth = !monthFilter || sale.date.includes(monthFilter);

                return matchesSearch && matchesService && matchesStatus && matchesMonth;
            });

            currentPage = 1;
            renderSalesTable();
            updatePagination();
        }

        function renderSalesTable() {
            const tableBody = document.getElementById('salesTableBody');
            tableBody.innerHTML = '';

            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const currentSales = filteredSales.slice(startIndex, endIndex);

            currentSales.forEach(sale => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${sale.id}</td>
                    <td>${sale.customer}</td>
                    <td><span class="service-type">${sale.service}</span></td>
                    <td>${sale.date}</td>
                    <td>R ${sale.amount}</td>
                    <td><span class="status-badge status-${sale.status}">${sale.status.charAt(0).toUpperCase() + sale.status.slice(1)}</span></td>
                    <td>${sale.payment}</td>
                `;
                tableBody.appendChild(row);
            });

            // Update pagination info
            const totalItems = filteredSales.length;
            const startItem = totalItems > 0 ? startIndex + 1 : 0;
            const endItem = Math.min(endIndex, totalItems);
            document.getElementById('paginationInfo').textContent = 
                `Showing ${startItem}-${endItem} of ${totalItems}`;
        }

        function updatePagination() {
            const pagination = document.getElementById('pagination');
            pagination.innerHTML = '';

            const totalPages = Math.ceil(filteredSales.length / itemsPerPage);

            // Previous button
            const prevButton = document.createElement('button');
            prevButton.className = 'pagination-btn';
            prevButton.innerHTML = '<i class="fas fa-chevron-left"></i>';
            prevButton.disabled = currentPage === 1;
            prevButton.addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    renderSalesTable();
                    updatePagination();
                }
            });
            pagination.appendChild(prevButton);

            // Page numbers
            for (let i = 1; i <= totalPages; i++) {
                const pageButton = document.createElement('button');
                pageButton.className = `pagination-btn ${i === currentPage ? 'active' : ''}`;
                pageButton.textContent = i;
                pageButton.addEventListener('click', () => {
                    currentPage = i;
                    renderSalesTable();
                    updatePagination();
                });
                pagination.appendChild(pageButton);
            }

            // Next button
            const nextButton = document.createElement('button');
            nextButton.className = 'pagination-btn';
            nextButton.innerHTML = '<i class="fas fa-chevron-right"></i>';
            nextButton.disabled = currentPage === totalPages;
            nextButton.addEventListener('click', () => {
                if (currentPage < totalPages) {
                    currentPage++;
                    renderSalesTable();
                    updatePagination();
                }
            });
            pagination.appendChild(nextButton);
        }

        // Initialize Dashboard
        document.addEventListener('DOMContentLoaded', function() {
            initializeCharts();
            renderSalesTable();
            updatePagination();

            // Add event listeners for filtering
            document.getElementById('searchInput').addEventListener('input', filterSales);
            document.getElementById('serviceFilter').addEventListener('change', filterSales);
            document.getElementById('statusFilter').addEventListener('change', filterSales);
            document.getElementById('monthFilter').addEventListener('change', filterSales);
        });
    </script>
</body>
</html>
